(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{33:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s});var i={width:"width",height:"height",states:"states",status:"status"},o=(a(r={},i.width,700),a(r,i.height,700),a(r,i.states,16),r),u={play:"Play",pause:"Pause"},s=32},34:function(e,t,n){var r=n(35);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,a);r.locals&&(e.exports=r.locals)},35:function(e,t,n){(t=e.exports=n(2)(!0)).push([e.i,".GriffeathMachine__field__1wxML {\n  display: inline-block;\n  cursor: pointer;\n  margin-bottom: 0.7em;\n}\n\n.GriffeathMachine__bigButton__1Dk5W {\n  margin-right: 2em;\n  padding: 0.6em 1.2em;\n}\n","",{version:3,sources:["GriffeathMachine.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB",file:"GriffeathMachine.css",sourcesContent:[".field {\n  display: inline-block;\n  cursor: pointer;\n  margin-bottom: 0.7em;\n}\n\n.bigButton {\n  margin-right: 2em;\n  padding: 0.6em 1.2em;\n}\n"]}]),t.locals={field:"GriffeathMachine__field__1wxML",bigButton:"GriffeathMachine__bigButton__1Dk5W"}},36:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),u=n(37),s=n.n(u);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return r=this,a=(e=f(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==c(a)&&"function"!=typeof a?p(r):a,h(p(n),"paint",function(e){var t=n.props,r=t.width,a=t.height,i=t.states,o=r*a;n.colorsOfField=new Uint32Array(o);for(var u=0;u<o;u+=1){var c=s()(e[u],i),l=c.r,f=c.g,p=c.b;n.colorsOfField[u]=255<<24|p<<16|f<<8|l}var d=new ImageData(new Uint8ClampedArray(n.colorsOfField.buffer),r,a);n.canvasContext.putImageData(d,0,0)}),h(p(n),"refCanvas",function(e){n.canvasContext=e&&e.getContext("2d")}),h(p(n),"canvasContext",void 0),h(p(n),"colorsOfField",void 0),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.PureComponent),n=t,(r=[{key:"render",value:function(){return a.a.createElement("canvas",{ref:this.refCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")}}])&&l(n.prototype,r),i&&l(n,i),t}();h(b,"propTypes",{width:o.a.number.isRequired,height:o.a.number.isRequired,states:o.a.number.isRequired})},38:function(e,t,n){"use strict";function r(e){for(var t=e.width,n=e.height,r=e.states,a=t*n,i=new Int8Array(a),o=0;o<a;o+=1)i[o]=Math.floor(Math.random()*r);return i}function a(e,t){return e<0?e+t:e>=t?e-t:e}function i(e,t,n,r,i,o,u){var s=r[e],c=a(s+1,u);return r[t+a(n-1,o)*i]===c||r[t+a(n+1,o)*i]===c||r[a(t-1,i)+n*i]===c||r[a(t+1,i)+n*i]===c?c:s}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var o=function(e){for(var t=e.field,n=e.width,r=e.height,a=e.states,o=new Int8Array(n*r),u=0;u<r;u+=1)for(var s=u*n,c=0;c<n;c+=1){var l=c+s;o[l]=i(l,c,u,t,n,r,a)}return o}},83:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(1),o=n.n(i),u=n(44),s=n(33),c=n(34),l=n.n(c),f=n(36),p=n(38),d=n(41);function h(e,t){return e<0?e+t:e>=t?e-t:e}function b(e,t,n,r){var a=this.thread.x,i=e[a],o=a%t,u=trunc(a/t),s=h(i+1,r),c=h(o-1,t);return e[c+u*t]===s?s:e[(c=h(o+1,t))+u*t]===s?s:e[o+(c=h(u-1,n))*t]===s?s:e[o+(c=h(u+1,n))*t]===s?s:i}var y=new(n.n(d).a),m=function(e){return y.createKernel(b).setOutput([e]).setFunctions([h])};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return E});var E=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return r=this,i=(e=w(t)).call.apply(e,[this].concat(u)),n=!i||"object"!==v(i)&&"function"!=typeof i?A(r):i,_(A(n),"state",{width:n.props.width,height:n.props.height,states:n.props.states,status:s.d.pause}),_(A(n),"field",null),_(A(n),"fieldUpdater",void 0),_(A(n),"canvas",a.a.createRef()),_(A(n),"getActionName",function(){return n.state.status===s.d.play?s.d.pause:s.d.play}),_(A(n),"processKey",function(e){e.keyCode===s.c&&(e.preventDefault(),n.handlePlay())}),_(A(n),"updateFieldSize",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.height;n.fieldUpdater=m(e*t)}),_(A(n),"updateField",function(){var e=n.state,t=e.width,r=e.height,a=e.states;n.field=n.fieldUpdater(n.field,t,r,a)}),_(A(n),"nextStep",function(){try{n.updateField(),n.state.status===s.d.play&&(n.requestID=requestAnimationFrame(n.nextStep))}catch(e){cancelAnimationFrame(n.requestID),n.field=Object(p.a)(n.state),n.setState({status:s.d.pause})}n.canvas.current.paint(n.field)}),_(A(n),"handleNew",function(){n.field=Object(p.a)(n.state),n.canvas.current.paint(n.field)}),_(A(n),"handleNext",function(){n.updateField(),n.canvas.current.paint(n.field)}),_(A(n),"handlePlay",function(){switch(n.state.status){case s.d.play:n.setState({status:s.d.pause});break;case s.d.pause:n.setState({status:s.d.play},n.nextStep)}}),_(A(n),"changeHandler",function(e,t){var r=t;switch(e){case s.b.width:n.updateFieldSize(r);break;case s.b.height:n.updateFieldSize(void 0,r);break;case s.b.states:r>255&&(r=255)}n.setState(_({},e,r))}),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r["PureComponent"]),n=t,(i=[{key:"componentDidMount",value:function(){this.handleNew(),this.updateFieldSize(),this.handlePlay(),document.addEventListener("keydown",this.processKey)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestID),document.removeEventListener("keydown",this.processKey)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(u.a,{state:this.state,onChange:this.changeHandler},a.a.createElement(u.b,{id:s.b.width,label:"Field width",defaultNum:1}),a.a.createElement(u.b,{id:s.b.height,label:"Field height",defaultNum:1}),a.a.createElement(u.b,{id:s.b.states,label:"Number of states",defaultNum:1})),a.a.createElement("div",{onClick:this.handlePlay,onKeyDown:this.processKey,className:l.a.field,role:"presentation",title:this.getActionName()},a.a.createElement(f.a,{width:this.state.width,height:this.state.height,states:this.state.states,ref:this.canvas})),a.a.createElement("p",null,a.a.createElement("em",null,"Press Space or click field for play / pause")),a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handleNew},"New"),a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handlePlay},this.getActionName()),this.state.status===s.d.pause&&a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handleNext},"Next step"))}}])&&g(n.prototype,i),o&&g(n,o),t}();_(E,"propTypes",{width:o.a.number.isRequired,height:o.a.number.isRequired,states:o.a.number.isRequired}),_(E,"defaultProps",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_(e,t,n[t])})}return e}({},s.a))}}]);