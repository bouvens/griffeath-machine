(this.webpackChunkgriffeath_machine=this.webpackChunkgriffeath_machine||[]).push([[608],{905:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(294),o=n(697),i=n.n(o),a=n(428),u=n.n(a);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,n,o,i=p(a);function a(){var t;s(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return b(y(t=i.call.apply(i,[this].concat(n))),"canvasContext",void 0),b(y(t),"colorsOfField",void 0),b(y(t),"paint",(function(e){var n=t.props,r=n.width,o=n.height,i=n.states,a=r*o;t.colorsOfField=new Uint32Array(a);for(var c=0;c<a;c+=1){var s=u()(e[c],i),f=s.r,l=s.g,p=s.b;t.colorsOfField[c]=255<<24|p<<16|l<<8|f}var h=new ImageData(new Uint8ClampedArray(t.colorsOfField.buffer),r,o);t.canvasContext.putImageData(h,0,0)})),b(y(t),"refCanvas",(function(e){t.canvasContext=e&&e.getContext("2d",{desynchronized:!0})})),t}return e=a,(n=[{key:"render",value:function(){return r.createElement("canvas",{ref:this.refCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")}}])&&f(e.prototype,n),o&&f(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.PureComponent);b(m,"propTypes",{width:i().number.isRequired,height:i().number.isRequired,states:i().number.isRequired})},483:function(t,e,n){"use strict";function r(t){for(var e=t.width,n=t.height,r=t.states,o=e*n,i=new Uint8Array(o),a=0;a<o;a+=1)i[a]=Math.floor(Math.random()*r);return i}function o(t,e){return t<0?t+e:t>=e?t-e:t}function i(t,e,n,r,i,a,u){var c=r[t],s=o(c+1,u);return r[e+o(n-1,a)*i]===s||r[e+o(n+1,a)*i]===s||r[o(e-1,i)+n*i]===s||r[o(e+1,i)+n*i]===s?s:c}n.d(e,{BS:function(){return r},ds:function(){return a}});var a=function(t){for(var e=t.field,n=t.width,r=t.height,o=t.states,a=new Uint8Array(n*r),u=0;u<r;u+=1)for(var c=u*n,s=0;s<n;s+=1){var f=s+c;a[f]=i(f,s,u,e,n,r,o)}return a}},688:function(t,e,n){"use strict";var r;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{TP:function(){return a},YD:function(){return i},gb:function(){return c},n$:function(){return u}});var i={width:"width",height:"height",states:"states",status:"status"},a=(o(r={},i.width,1200),o(r,i.height,700),o(r,i.states,16),r),u={play:"Play",pause:"Pause"},c=32},768:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return P}});var r=n(294),o=n(697),i=n.n(o),a=n(752),u=n(688),c=n(745),s=n(905),f=n(483);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(l,t);var e,n,o,i=m(l);function l(){var t;y(this,l);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return O(w(t=i.call.apply(i,[this].concat(n))),"field",null),O(w(t),"canvas",r.createRef()),O(w(t),"state",{width:t.props.width,height:t.props.height,states:t.props.states,status:u.n$.pause}),O(w(t),"getActionName",(function(){return t.state.status===u.n$.play?u.n$.pause:u.n$.play})),O(w(t),"processKey",(function(e){e.keyCode===u.gb&&(e.preventDefault(),t.handlePlay())})),O(w(t),"nextStep",(function(){try{t.field=(0,f.ds)(h(h({},t.state),{},{field:t.field})),t.state.status===u.n$.play&&(t.requestID=requestAnimationFrame(t.nextStep))}catch(e){cancelAnimationFrame(t.requestID),t.field=(0,f.BS)(t.state),t.setState({status:u.n$.pause})}t.canvas.current.paint(t.field)})),O(w(t),"handleNew",(function(){t.field=(0,f.BS)(t.state),t.canvas.current.paint(t.field)})),O(w(t),"handleNext",(function(){t.field=(0,f.ds)(h(h({},t.state),{},{field:t.field})),t.canvas.current.paint(t.field)})),O(w(t),"handlePlay",(function(){switch(t.state.status){case u.n$.play:t.setState({status:u.n$.pause});break;case u.n$.pause:t.setState({status:u.n$.play},t.nextStep)}})),O(w(t),"changeHandler",(function(e,n){var r=n;e===u.YD.states&&r>255&&(r=255),t.setState(O({},e,r))})),t}return e=l,(n=[{key:"componentDidMount",value:function(){this.handleNew(),this.handlePlay(),document.addEventListener("keydown",this.processKey)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestID),document.removeEventListener("keydown",this.processKey)}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(a.wR,{state:this.state,onChange:this.changeHandler},r.createElement(a.II,{id:u.YD.width,label:"Field width",defaultNum:1}),r.createElement(a.II,{id:u.YD.height,label:"Field height",defaultNum:1}),r.createElement(a.II,{id:u.YD.states,label:"Number of states",defaultNum:1})),r.createElement("div",{onClick:this.handlePlay,onKeyDown:this.processKey,className:c.Z.field,role:"presentation",title:this.getActionName()},r.createElement(s.Z,{width:this.state.width,height:this.state.height,states:this.state.states,ref:this.canvas})),r.createElement("p",null,r.createElement("em",null,"Press Space or click field for play / pause")),r.createElement("button",{type:"button",className:c.Z.bigButton,onClick:this.handleNew},"New"),r.createElement("button",{type:"button",className:c.Z.bigButton,onClick:this.handlePlay},this.getActionName()),this.state.status===u.n$.pause&&r.createElement("button",{type:"button",className:c.Z.bigButton,onClick:this.handleNext},"Next step"))}}])&&d(e.prototype,n),o&&d(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(r.PureComponent);O(P,"propTypes",{width:i().number.isRequired,height:i().number.isRequired,states:i().number.isRequired}),O(P,"defaultProps",h({},u.TP))},428:function(t,e,n){const r=n(734),o={r:0,g:0,b:0},i=[];t.exports=function(t,e,n){if(!i[e]){i[e]=[];for(let t=0;t<=e;t+=1)i[e].push(r(t/e))}return i[e][t]||n||o}}}]);