(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{33:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s});var i={width:"width",height:"height",states:"states",status:"status"},o=(a(r={},i.width,1200),a(r,i.height,700),a(r,i.states,16),r),u={play:"Play",pause:"Pause"},s=32},34:function(e,t,n){var r=n(35);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,a);r.locals&&(e.exports=r.locals)},35:function(e,t,n){(t=e.exports=n(2)(!0)).push([e.i,".GriffeathMachine__field__1wxML {\n  display: inline-block;\n  cursor: pointer;\n  margin-bottom: 0.7em;\n}\n\n.GriffeathMachine__bigButton__1Dk5W {\n  margin-right: 2em;\n  padding: 0.6em 1.2em;\n}\n","",{version:3,sources:["GriffeathMachine.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB",file:"GriffeathMachine.css",sourcesContent:[".field {\n  display: inline-block;\n  cursor: pointer;\n  margin-bottom: 0.7em;\n}\n\n.bigButton {\n  margin-right: 2em;\n  padding: 0.6em 1.2em;\n}\n"]}]),t.locals={field:"GriffeathMachine__field__1wxML",bigButton:"GriffeathMachine__bigButton__1Dk5W"}},36:function(e,t,n){const r=n(38),a={r:0,g:0,b:0},i=[];e.exports=function(e,t,n){if(!i[t]){i[t]=[];for(let e=0;e<=t;e+=1)i[t].push(r(e/t))}return i[t][e]||n||a}},46:function(e,t,n){"use strict";function r(e){for(var t=e.width,n=e.height,r=e.states,a=[],i=0;i<t;i+=1){a[i]=[];for(var o=0;o<n;o+=1)a[i][o]=Math.floor(Math.random()*r)}return a}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=function(e,t){return e<0?e+t:e%t};var i=function(e){var t=e.field,n=e.width,r=e.height,i=e.states;return t.map(function(e,o){return e.map(function(e,u){return function(e,t,n,r,i,o,u){var s=a(e+1,u);return r[t][a(n-1,o)]===s||r[t][a(n+1,o)]===s||r[a(t-1,i)][n]===s||r[a(t+1,i)][n]===s?s:e}(e,o,u,t,n,r,i)})})}},86:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(1),o=n.n(i),u=n(42),s=n(33),c=n(34),l=n.n(c),f=n(46),p=n(36),d=n.n(p);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return r=this,a=(e=y(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==h(a)&&"function"!=typeof a?m(r):a,g(m(n),"drawPixel",function(e,t,r,a){var i=e+t*n.props.width,o=d()(r,a),u=o.r,s=o.g,c=o.b;n.uInt32Array[i]=255<<24|c<<16|s<<8|u}),g(m(n),"paint",function(e){var t=n.props,r=t.width,a=t.height,i=t.states;n.uInt32Array=new Uint32Array(r*a);for(var o=0;o<r;o+=1)for(var u=0;u<a;u+=1)e[o]&&n.drawPixel(o,u,e[o][u],i);var s=new ImageData(new Uint8ClampedArray(n.uInt32Array.buffer),r,a);n.canvasContext.putImageData(s,0,0)}),g(m(n),"refCanvas",function(e){n.canvasContext=e&&e.getContext("2d")}),g(m(n),"canvasContext",void 0),g(m(n),"uInt32Array",void 0),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a.a.PureComponent),n=t,(r=[{key:"render",value:function(){return a.a.createElement("canvas",{ref:this.refCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")}}])&&b(n.prototype,r),i&&b(n,i),t}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g(w,"propTypes",{width:o.a.number.isRequired,height:o.a.number.isRequired,states:o.a.number.isRequired}),n.d(t,"default",function(){return C});var C=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return r=this,i=(e=_(t)).call.apply(e,[this].concat(u)),n=!i||"object"!==A(i)&&"function"!=typeof i?E(r):i,k(E(n),"state",{width:n.props.width,height:n.props.height,states:n.props.states,status:s.d.pause}),k(E(n),"field",null),k(E(n),"canvas",a.a.createRef()),k(E(n),"getActionName",function(){return n.state.status===s.d.play?s.d.pause:s.d.play}),k(E(n),"processKey",function(e){e.keyCode===s.c&&(e.preventDefault(),n.handlePlay())}),k(E(n),"updateFieldSize",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.height;n.fieldUpdater=n.makeGetUpdatedField(e,t)}),k(E(n),"updateField",function(){var e=n.state,t=e.width,r=e.height,a=e.states;n.field=n.fieldUpdater(n.field,t,r,a)}),k(E(n),"nextStep",function(){try{n.updateField(),n.state.status===s.d.play&&(n.requestID=requestAnimationFrame(n.nextStep))}catch(e){cancelAnimationFrame(n.requestID),n.field=Object(f.a)(n.state),n.setState({status:s.d.pause})}n.canvas.current.paint(n.field)}),k(E(n),"handleNew",function(){n.field=Object(f.a)(n.state),n.canvas.current.paint(n.field)}),k(E(n),"handleNext",function(){n.updateField(),n.canvas.current.paint(n.field)}),k(E(n),"handlePlay",function(){switch(n.state.status){case s.d.play:n.setState({status:s.d.pause});break;case s.d.pause:n.setState({status:s.d.play},n.nextStep)}}),k(E(n),"changeHandler",function(e,t){var r=t;switch(e){case s.b.width:n.updateFieldSize(r);break;case s.b.height:n.updateFieldSize(void 0,r);break;case s.b.states:r>255&&(r=255)}n.setState(k({},e,r))}),k(E(n),"makeGetUpdatedField",void 0),k(E(n),"fieldUpdater",void 0),n}var i,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["PureComponent"]),i=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.handleNew(),document.addEventListener("keydown",this.processKey),Promise.all([n.e(6),n.e(2)]).then(n.bind(null,85)).then(function(t){var n=e.props,r=n.width,a=n.height;e.makeGetUpdatedField=t.makeGetUpdatedField,e.fieldUpdater=e.makeGetUpdatedField(r,a),e.handlePlay()})}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestID),document.removeEventListener("keydown",this.processKey)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(u.a,{state:this.state,onChange:this.changeHandler},a.a.createElement(u.b,{id:s.b.width,label:"Field width",defaultNum:1}),a.a.createElement(u.b,{id:s.b.height,label:"Field height",defaultNum:1}),a.a.createElement(u.b,{id:s.b.states,label:"Number of states",defaultNum:1})),a.a.createElement("div",{onClick:this.handlePlay,onKeyDown:this.processKey,className:l.a.field,role:"presentation",title:this.getActionName()},a.a.createElement(w,{width:this.state.width,height:this.state.height,states:this.state.states,ref:this.canvas})),a.a.createElement("p",null,a.a.createElement("em",null,"Press Space or click field for play / pause")),a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handleNew},"New"),a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handlePlay},this.getActionName()),this.state.status===s.d.pause&&a.a.createElement("button",{type:"button",className:l.a.bigButton,onClick:this.handleNext},"Next step"))}}])&&O(i.prototype,o),c&&O(i,c),t}();k(C,"propTypes",{width:o.a.number.isRequired,height:o.a.number.isRequired,states:o.a.number.isRequired}),k(C,"defaultProps",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}({},s.a))}}]);