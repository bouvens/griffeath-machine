{"version":3,"sources":["webpack:///app.5cfa5657.js","webpack:///./src/GriffeathMachine.jsx","webpack:///./src/GriffeathMachine.css","webpack:///./src/index.js","webpack:///./src/CanvasField.jsx"],"names":["webpackJsonp","0","module","exports","__webpack_require__","cilB","gpIB","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","getRandomField","_ref","width","height","states","field","x","y","Math","floor","random","mod","number","limit","d","Test","_params","_class","_temp2","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_state_control__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3__CanvasField__","__WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css__","__WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","NEIGHBOURS","IDS","status","STATUSES","play","pause","setters","text","params","_Component","_temp","_this","_ret","this","_len","args","Array","_key","apply","concat","state","props","getUpdatedField","_ref2","a","map","line","element","some","direction","neighbour","getActionName","randomizeField","setState","process","e","keyCode","preventDefault","nextStep","window","requestAnimationFrame","changeHandler","name","_this$setState","selectAll","control","setSelectionRange","handleRefCanvas","canvas","handlePlay","componentWillMount","document","addEventListener","render","createElement","setHandler","onChange","onFocus","className","id","label","defaultNum","onClick","role","title","ref","bigButton","defaultProps","iD0y","lVK7","defineProperty","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_2__index_css__","__WEBPACK_IMPORTED_MODULE_3__GriffeathMachine__","querySelector","tibZ","hslToRgb","h","s","l","r","g","b","hue2rgb","p","q","initT","t","round","CanvasField","__WEBPACK_IMPORTED_MODULE_1_prop_types__","_React$PureComponent","canvasContext","canvasData","drawPixel","index","_hslToRgb","data","clear","clearRect","paint","getImageData","get","putImageData","elem","getContext","componentDidMount","componentDidUpdate","PureComponent"],"mappings":"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","file":"app.5cfa5657.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+prg\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"cilB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"gpIB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Test; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_state_control__ = __webpack_require__(\"RjKN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CanvasField__ = __webpack_require__(\"tibZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css__ = __webpack_require__(\"iD0y\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _params, _class, _temp2;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\nvar NEIGHBOURS = [[0, -1], [0, 1], [-1, 0], [1, 0]];\n\nvar IDS = {\n    width: 'width',\n    height: 'height',\n    states: 'states',\n    status: 'status'\n};\n\nvar STATUSES = {\n    play: 'Play',\n    pause: 'Pause'\n};\n\nvar setters = [{\n    text: 'Default',\n    params: (_params = {}, _params[IDS.width] = 300, _params[IDS.height] = 300, _params[IDS.states] = 16, _params)\n}];\n\nfunction getRandomField(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        states = _ref.states;\n\n    var field = [];\n\n    for (var x = 0; x < width; x += 1) {\n        field[x] = [];\n        for (var y = 0; y < height; y += 1) {\n            field[x][y] = Math.floor(Math.random() * states);\n        }\n    }\n\n    return field;\n}\n\nfunction mod(number, limit) {\n    return number < 0 ? number + limit : number % limit;\n}\n\nvar Test = (_temp2 = _class = function (_Component) {\n    _inherits(Test, _Component);\n\n    function Test() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Test);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = _extends({}, _this.props, {\n            field: [],\n            status: STATUSES.pause\n        }), _this.getUpdatedField = function (_ref2) {\n            var field = _ref2.field,\n                width = _ref2.width,\n                height = _ref2.height,\n                states = _ref2.states;\n            return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(field, function (line, x) {\n                return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(line, function (element, y) {\n                    if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.some(__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(NEIGHBOURS, function (direction) {\n                        return field[mod(x + direction[0], width)][mod(y + direction[1], height)];\n                    }), function (neighbour) {\n                        return neighbour === mod(element + 1, states);\n                    })) {\n                        return mod(element + 1, states);\n                    }\n\n                    return element;\n                });\n            });\n        }, _this.getActionName = function () {\n            return _this.state.status === STATUSES.play ? STATUSES.pause : STATUSES.play;\n        }, _this.randomizeField = function () {\n            _this.setState({ field: getRandomField(_this.state) });\n        }, _this.process = function (e) {\n            if (e.keyCode === 32) {\n                e.preventDefault();\n                _this.nextStep();\n            }\n        }, _this.nextStep = function () {\n            _this.setState({ field: _this.getUpdatedField(_this.state) });\n\n            if (_this.state.status === STATUSES.play) {\n                window.requestAnimationFrame(_this.nextStep);\n            }\n        }, _this.changeHandler = function (name, value) {\n            var _this$setState;\n\n            _this.setState((_this$setState = {}, _this$setState[name] = value, _this$setState));\n        }, _this.selectAll = function (control) {\n            return control.setSelectionRange(0, control.value.length);\n        }, _this.handleRefCanvas = function (canvas) {\n            _this.canvas = canvas;\n        }, _this.handlePlay = function () {\n            switch (_this.state.status) {\n                case STATUSES.play:\n                    _this.setState({ status: STATUSES.pause });\n                    break;\n                case STATUSES.pause:\n                    _this.setState({ status: STATUSES.play }, _this.nextStep);\n                    break;\n                default:\n            }\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Test.prototype.componentWillMount = function componentWillMount() {\n        this.randomizeField();\n        window.document.addEventListener('keydown', this.process);\n    };\n\n    Test.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"c\" /* SettersBlock */], {\n                setters: setters,\n                setHandler: this.changeHandler,\n                key: 'setters'\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                __WEBPACK_IMPORTED_MODULE_1_state_control__[\"a\" /* Connector */],\n                {\n                    state: this.state,\n                    onChange: this.changeHandler,\n                    onFocus: this.selectAll,\n                    className: 'state-control-input',\n                    key: 'connector'\n                },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                    id: IDS.width,\n                    label: 'Field width',\n                    defaultNum: 1\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                    id: IDS.height,\n                    label: 'Field height',\n                    defaultNum: 1\n                }),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_state_control__[\"b\" /* Input */], {\n                    id: IDS.states,\n                    label: 'Number of states',\n                    defaultNum: 1\n                })\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'p',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'span',\n                    {\n                        onClick: this.handlePlay,\n                        className: __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default.a.field,\n                        role: 'presentation',\n                        title: this.getActionName()\n                    },\n                    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__CanvasField__[\"a\" /* default */], {\n                        ref: this.handleRefCanvas,\n                        field: this.state.field,\n                        width: this.state.width,\n                        height: this.state.height,\n                        states: this.state.states\n                    })\n                )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { className: __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default.a.bigButton, onClick: this.randomizeField },\n                'New'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { className: __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default.a.bigButton, onClick: this.nextStep },\n                'Next step'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { className: __WEBPACK_IMPORTED_MODULE_4__GriffeathMachine_css___default.a.bigButton, onClick: this.handlePlay },\n                this.getActionName()\n            )\n        );\n    };\n\n    return Test;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]), _class.defaultProps = _extends({}, setters[0].params), _temp2);\n\n\n/***/ }),\n\n/***/ \"iD0y\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"field\":\"GriffeathMachine__field__3URod\",\"bigButton\":\"GriffeathMachine__bigButton__1kstk\"};\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(\"O27J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css__ = __webpack_require__(\"cilB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__GriffeathMachine__ = __webpack_require__(\"gpIB\");\n\n\n\n\n\n\nObject(__WEBPACK_IMPORTED_MODULE_1_react_dom__[\"render\"])(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__GriffeathMachine__[\"a\" /* default */], null), document.querySelector('#app'));\n\n/***/ }),\n\n/***/ \"tibZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CanvasField; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(\"GiK3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(\"KSGD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   {number}  h       The hue\n * @param   {number}  s       The saturation\n * @param   {number}  l       The lightness\n * @return  {object}           The RGB representation\n */\nfunction hslToRgb(h, s, l) {\n    var r = void 0;\n    var g = void 0;\n    var b = void 0;\n\n    if (s === 0) {\n        // achromatic\n        r = l;\n        g = l;\n        b = l;\n    } else {\n        var hue2rgb = function hue2rgb(p, q, initT) {\n            var t = initT;\n\n            if (t < 0) {\n                t += 1;\n            }\n            if (t > 1) {\n                t -= 1;\n            }\n            if (t < 1 / 6) {\n                return p + (q - p) * 6 * t;\n            }\n            if (t < 1 / 2) {\n                return q;\n            }\n            if (t < 2 / 3) {\n                return p + (q - p) * (2 / 3 - t) * 6;\n            }\n\n            return p;\n        };\n\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return {\n        r: Math.round(r * 255),\n        g: Math.round(g * 255),\n        b: Math.round(b * 255)\n    };\n}\n\nvar CanvasField = function (_React$PureComponent) {\n    _inherits(CanvasField, _React$PureComponent);\n\n    function CanvasField() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, CanvasField);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args))), _this), _this.canvasContext = null, _this.canvasData = null, _this.drawPixel = function (x, y, h, s, l) {\n            var index = (x + y * _this.props.width) * 4;\n\n            var _hslToRgb = hslToRgb(h, s, l),\n                r = _hslToRgb.r,\n                g = _hslToRgb.g,\n                b = _hslToRgb.b;\n\n            _this.canvasData.data[index] = r;\n            _this.canvasData.data[index + 1] = g;\n            _this.canvasData.data[index + 2] = b;\n            _this.canvasData.data[index + 3] = 255;\n        }, _this.clear = function () {\n            _this.canvasContext.clearRect(0, 0, _this.props.width, _this.props.height);\n        }, _this.paint = function () {\n            _this.canvasData = _this.canvasContext.getImageData(0, 0, _this.props.width, _this.props.height);\n\n            for (var x = 0; x < _this.props.width; x += 1) {\n                for (var y = 0; y < _this.props.height; y += 1) {\n                    _this.drawPixel(x, y, __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.get(_this.props.field, [x, y]) / _this.props.states, 1, 0.5);\n                }\n            }\n\n            _this.canvasContext.putImageData(_this.canvasData, 0, 0);\n        }, _this.handleRefCanvas = function (elem) {\n            _this.canvasContext = elem.getContext('2d');\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    CanvasField.prototype.componentDidMount = function componentDidMount() {\n        this.paint();\n    };\n\n    CanvasField.prototype.componentDidUpdate = function componentDidUpdate() {\n        this.paint();\n    };\n\n    CanvasField.prototype.render = function render() {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'canvas',\n            {\n                ref: this.handleRefCanvas,\n                width: this.props.width,\n                height: this.props.height\n            },\n            'You are using an outdated browser without support of canvas elements.'\n        );\n    };\n\n    return CanvasField;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\n\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.5cfa5657.js","import React, { Component } from 'react'\nimport { Connector, Input, SettersBlock } from 'state-control'\nimport _ from 'lodash'\nimport CanvasField from './CanvasField'\nimport style from './GriffeathMachine.css'\n\nconst NEIGHBOURS = [\n    [0, -1],\n    [0, 1],\n    [-1, 0],\n    [1, 0],\n]\n\nconst IDS = {\n    width: 'width',\n    height: 'height',\n    states: 'states',\n    status: 'status',\n}\n\nconst STATUSES = {\n    play: 'Play',\n    pause: 'Pause',\n}\n\nconst setters = [\n    {\n        text: 'Default',\n        params: {\n            [IDS.width]: 300,\n            [IDS.height]: 300,\n            [IDS.states]: 16,\n        },\n    },\n]\n\nfunction getRandomField ({ width, height, states }) {\n    const field = []\n\n    for (let x = 0; x < width; x += 1) {\n        field[x] = []\n        for (let y = 0; y < height; y += 1) {\n            field[x][y] = Math.floor(Math.random() * states)\n        }\n    }\n\n    return field\n}\n\nfunction mod (number, limit) {\n    return number < 0 ? number + limit : number % limit\n}\n\nexport default class Test extends Component {\n    static defaultProps = {\n        ...setters[0].params,\n    }\n\n    state = {\n        ...this.props,\n        field: [],\n        status: STATUSES.pause,\n    }\n\n    componentWillMount () {\n        this.randomizeField()\n        window.document.addEventListener('keydown', this.process)\n    }\n\n    getUpdatedField = ({ field, width, height, states }) => _.map(\n        field,\n        (line, x) => _.map(line, (element, y) => {\n            if (\n                _.some(\n                    _.map(NEIGHBOURS, (direction) =>\n                        field[mod(x + direction[0], width)][mod(y + direction[1], height)]),\n                    (neighbour) => neighbour === mod(element + 1, states)\n                )\n            ) {\n                return mod(element + 1, states)\n            }\n\n            return element\n        })\n    )\n\n    getActionName = () => (this.state.status === STATUSES.play ? STATUSES.pause : STATUSES.play)\n\n    randomizeField = () => {\n        this.setState({ field: getRandomField(this.state) })\n    }\n\n    process = (e) => {\n        if (e.keyCode === 32) {\n            e.preventDefault()\n            this.nextStep()\n        }\n    }\n\n    nextStep = () => {\n        this.setState({ field: this.getUpdatedField(this.state) })\n\n        if (this.state.status === STATUSES.play) {\n            window.requestAnimationFrame(this.nextStep)\n        }\n    }\n\n    changeHandler = (name, value) => {\n        this.setState({ [name]: value })\n    }\n\n    selectAll = (control) => control.setSelectionRange(0, control.value.length)\n\n    handleRefCanvas = (canvas) => {\n        this.canvas = canvas\n    }\n\n    handlePlay = () => {\n        switch (this.state.status) {\n            case STATUSES.play:\n                this.setState({ status: STATUSES.pause })\n                break\n            case STATUSES.pause:\n                this.setState({ status: STATUSES.play }, this.nextStep)\n                break\n            default:\n        }\n    }\n\n    render () {\n        return (\n            <div>\n                <SettersBlock\n                    setters={setters}\n                    setHandler={this.changeHandler}\n                    key=\"setters\"\n                />\n                <Connector\n                    state={this.state}\n                    onChange={this.changeHandler}\n                    onFocus={this.selectAll}\n                    className=\"state-control-input\"\n                    key=\"connector\"\n                >\n                    <Input\n                        id={IDS.width}\n                        label=\"Field width\"\n                        defaultNum={1}\n                    />\n                    <Input\n                        id={IDS.height}\n                        label=\"Field height\"\n                        defaultNum={1}\n                    />\n                    <Input\n                        id={IDS.states}\n                        label=\"Number of states\"\n                        defaultNum={1}\n                    />\n                </Connector>\n                <p>\n                    <span\n                        onClick={this.handlePlay}\n                        className={style.field}\n                        role=\"presentation\"\n                        title={this.getActionName()}\n                    >\n                        <CanvasField\n                            ref={this.handleRefCanvas}\n                            field={this.state.field}\n                            width={this.state.width}\n                            height={this.state.height}\n                            states={this.state.states}\n                        />\n                    </span>\n                </p>\n                <button className={style.bigButton} onClick={this.randomizeField}>New</button>\n                <button className={style.bigButton} onClick={this.nextStep}>Next step</button>\n                <button className={style.bigButton} onClick={this.handlePlay}>{this.getActionName()}</button>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/GriffeathMachine.jsx","// removed by extract-text-webpack-plugin\nmodule.exports = {\"field\":\"GriffeathMachine__field__3URod\",\"bigButton\":\"GriffeathMachine__bigButton__1kstk\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/GriffeathMachine.css\n// module id = iD0y\n// module chunks = 1","import React from 'react'\nimport { render } from 'react-dom'\n\nimport './index.css'\nimport GriffeathMachine from './GriffeathMachine'\n\nrender(<GriffeathMachine />, document.querySelector('#app'))\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react'\nimport PropTypes from 'prop-types'\nimport _ from 'lodash'\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   {number}  h       The hue\n * @param   {number}  s       The saturation\n * @param   {number}  l       The lightness\n * @return  {object}           The RGB representation\n */\nfunction hslToRgb (h, s, l) {\n    let r\n    let g\n    let b\n\n    if (s === 0) {\n        // achromatic\n        r = l\n        g = l\n        b = l\n    } else {\n        const hue2rgb = (p, q, initT) => {\n            let t = initT\n\n            if (t < 0) {\n                t += 1\n            }\n            if (t > 1) {\n                t -= 1\n            }\n            if (t < 1 / 6) {\n                return p + ((q - p) * 6 * t)\n            }\n            if (t < 1 / 2) {\n                return q\n            }\n            if (t < 2 / 3) {\n                return p + ((q - p) * ((2 / 3) - t) * 6)\n            }\n\n            return p\n        }\n\n        const q = l < 0.5 ? l * (1 + s) : (l + s) - (l * s)\n        const p = (2 * l) - q\n        r = hue2rgb(p, q, h + (1 / 3))\n        g = hue2rgb(p, q, h)\n        b = hue2rgb(p, q, h - (1 / 3))\n    }\n\n    return {\n        r: Math.round(r * 255),\n        g: Math.round(g * 255),\n        b: Math.round(b * 255),\n    }\n}\n\nexport default class CanvasField extends React.PureComponent {\n    static propTypes = {\n        field: PropTypes.arrayOf(PropTypes.array).isRequired,\n        width: PropTypes.number.isRequired,\n        height: PropTypes.number.isRequired,\n        states: PropTypes.number.isRequired,\n    }\n\n    componentDidMount () {\n        this.paint()\n    }\n\n    componentDidUpdate () {\n        this.paint()\n    }\n\n    canvasContext = null\n    canvasData = null\n\n    drawPixel = (x, y, h, s, l) => {\n        const index = (x + (y * this.props.width)) * 4\n        const { r, g, b } = hslToRgb(h, s, l)\n\n        this.canvasData.data[index] = r\n        this.canvasData.data[index + 1] = g\n        this.canvasData.data[index + 2] = b\n        this.canvasData.data[index + 3] = 255\n    }\n\n    clear = () => {\n        this.canvasContext.clearRect(0, 0, this.props.width, this.props.height)\n    }\n\n    paint = () => {\n        this.canvasData = this.canvasContext.getImageData(0, 0, this.props.width, this.props.height)\n\n        for (let x = 0; x < this.props.width; x += 1) {\n            for (let y = 0; y < this.props.height; y += 1) {\n                this.drawPixel(x, y, (_.get(this.props.field, [x, y]) / this.props.states), 1, 0.5)\n            }\n        }\n\n        this.canvasContext.putImageData(this.canvasData, 0, 0)\n    }\n\n    handleRefCanvas = (elem) => {\n        this.canvasContext = elem.getContext('2d')\n    }\n\n    render () {\n        return (\n            <canvas\n                ref={this.handleRefCanvas}\n                width={this.props.width}\n                height={this.props.height}\n            >\n                {'You are using an outdated browser without support of canvas elements.'}\n            </canvas>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CanvasField.jsx"],"sourceRoot":""}