webpackJsonp([1],{0:function(t,e,n){n("+prg"),t.exports=n("lVK7")},BLn6:function(t,e){t.exports={field:"GriffeathMachine__field__rXP46",bigButton:"GriffeathMachine__bigButton__1sICS"}},"L/hj":function(t,e,n){"use strict";function a(t){for(var e=t.width,n=t.height,a=t.states,o=[],r=0;r<e;r+=1){o[r]=[];for(var i=0;i<n;i+=1)o[r][i]=Math.floor(Math.random()*a)}return o}function o(t,e,n){var a=void 0,o=void 0,r=void 0;if(0===e)a=n,o=n,r=n;else{var i=function(t,e,n){var a=n;return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t},s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;a=i(c,s,t+1/3),o=i(c,s,t),r=i(c,s,t-1/3)}return{r:Math.round(255*a),g:Math.round(255*o),b:Math.round(255*r)}}e.a=a,n.d(e,"b",function(){return u}),e.c=o;var r=n("M4fF"),i=n.n(r),s=n("oiih"),c=function(t,e){return t<0?t+e:t%e},u=function(t){var e=t.field,n=t.width,a=t.height,o=t.states;return i.a.map(e,function(t,r){return i.a.map(t,function(t,u){return i.a.some(s.c,function(i){return e[c(r+i[0],n)][c(u+i[1],a)]===c(t+1,o)})?c(t+1,o):t})})}},XVZL:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return m});var i,s,c=n("GiK3"),u=n.n(c),l=n("RjKN"),h=n("oiih"),f=n("L/hj"),p=n("qaGz"),d=n("BLn6"),b=n.n(d),y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},m=(s=i=function(t){function e(){var n,r,i;a(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=o(this,t.call.apply(t,[this].concat(c))),r.state=y({},r.props,{field:[],status:h.d.pause}),r.getActionName=function(){return r.state.status===h.d.play?h.d.pause:h.d.play},r.randomizeField=function(t){r.setState({field:Object(f.a)(r.state)},t)},r.processKey=function(t){32===t.keyCode&&(t.preventDefault(),r.handlePlay())},r.nextStep=function(){r.setState({field:Object(f.b)(r.state)}),r.state.status===h.d.play&&requestAnimationFrame(r.nextStep)},r.handleNew=function(){r.randomizeField()},r.handleNext=function(){r.setState({field:Object(f.b)(r.state)})},r.handlePlay=function(){switch(r.state.status){case h.d.play:r.setState({status:h.d.pause});break;case h.d.pause:r.setState({status:h.d.play},r.nextStep)}},r.changeHandler=function(t,e){var n;r.setState((n={},n[t]=e,n))},r.selectAll=function(t){return t.setSelectionRange(0,t.value.length)},i=n,o(r,i)}return r(e,t),e.prototype.componentWillMount=function(){this.randomizeField(this.handlePlay),document.addEventListener("keydown",this.processKey)},e.prototype.render=function(){return u.a.createElement("div",null,u.a.createElement(l.a,{state:this.state,onChange:this.changeHandler,onFocus:this.selectAll,className:"state-control-input",key:"connector"},u.a.createElement(l.b,{id:h.b.width,label:"Field width",defaultNum:1}),u.a.createElement(l.b,{id:h.b.height,label:"Field height",defaultNum:1}),u.a.createElement(l.b,{id:h.b.states,label:"Number of states",defaultNum:1})),u.a.createElement("p",null,u.a.createElement("span",{onClick:this.handlePlay,onKeyDown:this.processKey,className:b.a.field,role:"presentation",title:this.getActionName()},u.a.createElement(p.a,{width:this.state.width,height:this.state.height,field:this.state.field,states:this.state.states}))),u.a.createElement("button",{className:b.a.bigButton,onClick:this.handleNew},"New"),u.a.createElement("button",{className:b.a.bigButton,onClick:this.handlePlay},this.getActionName()),this.state.status===h.d.pause&&u.a.createElement("button",{className:b.a.bigButton,onClick:this.handleNext},"Next step"))},e}(c.PureComponent),i.defaultProps=y({},h.a),s)},cilB:function(t,e){},lVK7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("GiK3"),o=n.n(a),r=n("O27J"),i=(n.n(r),n("cilB")),s=(n.n(i),n("XVZL"));Object(r.render)(o.a.createElement(s.a,null),document.querySelector("#app"))},oiih:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return s});var a,o=[[0,-1],[0,1],[-1,0],[1,0]],r={width:"width",height:"height",states:"states",status:"status"},i=(a={},a[r.width]=500,a[r.height]=500,a[r.states]=16,a),s={play:"Play",pause:"Pause"}},qaGz:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return l});var i=n("GiK3"),s=n.n(i),c=n("KSGD"),u=(n.n(c),n("L/hj")),l=function(t){function e(){var n,r,i;a(this,e);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=o(this,t.call.apply(t,[this].concat(c))),r.drawPixel=function(t,e,n,a,o){var i=4*(t+e*r.props.width),s=Object(u.c)(n,a,o),c=s.r,l=s.g,h=s.b;r.canvasData.data[i]=c,r.canvasData.data[i+1]=l,r.canvasData.data[i+2]=h,r.canvasData.data[i+3]=255},r.clear=function(){r.canvasContext.clearRect(0,0,r.props.width,r.props.height)},r.paint=function(){r.canvasData=r.canvasContext.getImageData(0,0,r.props.width,r.props.height);for(var t=0;t<r.props.width;t+=1)for(var e=0;e<r.props.height;e+=1)r.drawPixel(t,e,_.get(r.props.field,[t,e])/r.props.states,1,.5);r.canvasContext.putImageData(r.canvasData,0,0)},r.handleRefCanvas=function(t){r.canvasContext=t.getContext("2d")},i=n,o(r,i)}return r(e,t),e.prototype.componentDidMount=function(){this.paint()},e.prototype.componentDidUpdate=function(){this.paint()},e.prototype.render=function(){return s.a.createElement("canvas",{ref:this.handleRefCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")},e}(s.a.PureComponent)}},[0]);
//# sourceMappingURL=app.3605c771.js.map