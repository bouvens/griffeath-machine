webpackJsonp([1],{0:function(t,e,n){n("+prg"),t.exports=n("lVK7")},cilB:function(t,e){},gpIB:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){for(var e=t.width,n=t.height,a=t.states,r=[],o=0;o<e;o+=1){r[o]=[];for(var i=0;i<n;i+=1)r[o][i]=Math.floor(Math.random()*a)}return r}function s(t,e){return t<0?t+e:t%e}n.d(e,"a",function(){return _});var c,u,l,p=n("GiK3"),f=n.n(p),h=n("RjKN"),d=n("M4fF"),m=n.n(d),v=n("tibZ"),y=n("iD0y"),g=n.n(y),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},w=[[0,-1],[0,1],[-1,0],[1,0]],E={width:"width",height:"height",states:"states",status:"status"},C={play:"Play",pause:"Pause"},x=[{text:"Default",params:(c={},c[E.width]=300,c[E.height]=300,c[E.states]=16,c)}],_=(l=u=function(t){function e(){var n,o,c;a(this,e);for(var u=arguments.length,l=Array(u),p=0;p<u;p++)l[p]=arguments[p];return n=o=r(this,t.call.apply(t,[this].concat(l))),o.state=b({},o.props,{field:[],status:C.pause}),o.getUpdatedField=function(t){var e=t.field,n=t.width,a=t.height,r=t.states;return m.a.map(e,function(t,o){return m.a.map(t,function(t,i){return m.a.some(m.a.map(w,function(t){return e[s(o+t[0],n)][s(i+t[1],a)]}),function(e){return e===s(t+1,r)})?s(t+1,r):t})})},o.getActionName=function(){return o.state.status===C.play?C.pause:C.play},o.randomizeField=function(){o.setState({field:i(o.state)})},o.process=function(t){32===t.keyCode&&(t.preventDefault(),o.nextStep())},o.nextStep=function(){o.setState({field:o.getUpdatedField(o.state)}),o.state.status===C.play&&window.requestAnimationFrame(o.nextStep)},o.changeHandler=function(t,e){var n;o.setState((n={},n[t]=e,n))},o.selectAll=function(t){return t.setSelectionRange(0,t.value.length)},o.handleRefCanvas=function(t){o.canvas=t},o.handlePlay=function(){switch(o.state.status){case C.play:o.setState({status:C.pause});break;case C.pause:o.setState({status:C.play},o.nextStep)}},c=n,r(o,c)}return o(e,t),e.prototype.componentWillMount=function(){this.randomizeField(),window.document.addEventListener("keydown",this.process)},e.prototype.render=function(){return f.a.createElement("div",null,f.a.createElement(h.c,{setters:x,setHandler:this.changeHandler,key:"setters"}),f.a.createElement(h.a,{state:this.state,onChange:this.changeHandler,onFocus:this.selectAll,className:"state-control-input",key:"connector"},f.a.createElement(h.b,{id:E.width,label:"Field width",defaultNum:1}),f.a.createElement(h.b,{id:E.height,label:"Field height",defaultNum:1}),f.a.createElement(h.b,{id:E.states,label:"Number of states",defaultNum:1})),f.a.createElement("p",null,f.a.createElement("span",{onClick:this.handlePlay,className:g.a.field,role:"presentation",title:this.getActionName()},f.a.createElement(v.a,{ref:this.handleRefCanvas,field:this.state.field,width:this.state.width,height:this.state.height,states:this.state.states}))),f.a.createElement("button",{className:g.a.bigButton,onClick:this.randomizeField},"New"),f.a.createElement("button",{className:g.a.bigButton,onClick:this.nextStep},"Next step"),f.a.createElement("button",{className:g.a.bigButton,onClick:this.handlePlay},this.getActionName()))},e}(p.Component),u.defaultProps=b({},x[0].params),l)},iD0y:function(t,e){t.exports={field:"GriffeathMachine__field__3URod",bigButton:"GriffeathMachine__bigButton__1kstk"}},lVK7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("GiK3"),r=n.n(a),o=n("O27J"),i=(n.n(o),n("cilB")),s=(n.n(i),n("gpIB"));Object(o.render)(r.a.createElement(s.a,null),document.querySelector("#app"))},tibZ:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e,n){var a=void 0,r=void 0,o=void 0;if(0===e)a=n,r=n,o=n;else{var i=function(t,e,n){var a=n;return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t},s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;a=i(c,s,t+1/3),r=i(c,s,t),o=i(c,s,t-1/3)}return{r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*o)}}n.d(e,"a",function(){return f});var s=n("GiK3"),c=n.n(s),u=n("KSGD"),l=(n.n(u),n("M4fF")),p=n.n(l),f=function(t){function e(){var n,o,s;a(this,e);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return n=o=r(this,t.call.apply(t,[this].concat(u))),o.canvasContext=null,o.canvasData=null,o.drawPixel=function(t,e,n,a,r){var s=4*(t+e*o.props.width),c=i(n,a,r),u=c.r,l=c.g,p=c.b;o.canvasData.data[s]=u,o.canvasData.data[s+1]=l,o.canvasData.data[s+2]=p,o.canvasData.data[s+3]=255},o.clear=function(){o.canvasContext.clearRect(0,0,o.props.width,o.props.height)},o.paint=function(){o.canvasData=o.canvasContext.getImageData(0,0,o.props.width,o.props.height);for(var t=0;t<o.props.width;t+=1)for(var e=0;e<o.props.height;e+=1)o.drawPixel(t,e,p.a.get(o.props.field,[t,e])/o.props.states,1,.5);o.canvasContext.putImageData(o.canvasData,0,0)},o.handleRefCanvas=function(t){o.canvasContext=t.getContext("2d")},s=n,r(o,s)}return o(e,t),e.prototype.componentDidMount=function(){this.paint()},e.prototype.componentDidUpdate=function(){this.paint()},e.prototype.render=function(){return c.a.createElement("canvas",{ref:this.handleRefCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")},e}(c.a.PureComponent)}},[0]);
//# sourceMappingURL=app.5cfa5657.js.map