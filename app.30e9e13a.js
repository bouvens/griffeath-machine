webpackJsonp([1],{0:function(t,e,n){n("+prg"),t.exports=n("lVK7")},BLn6:function(t,e){t.exports={field:"GriffeathMachine__field__rXP46",bigButton:"GriffeathMachine__bigButton__1sICS"}},"L/hj":function(t,e,n){"use strict";e.a=function(t){for(var e=t.width,n=t.height,a=t.states,r=[],i=0;i<e;i+=1){r[i]=[];for(var o=0;o<n;o+=1)r[i][o]=Math.floor(Math.random()*a)}return r},n.d(e,"b",function(){return r}),e.c=function(t){var e=function(t){var e=a(t,1);return e<1/6?6*e:e<.5?1:e<2/3?6*(2/3-e):0},n=e(t+1/3),r=e(t),i=e(t-1/3);return{r:Math.round(255*n),g:Math.round(255*r),b:Math.round(255*i)}};var a=function(t,e){return t<0?t+e:t%e},r=function(t){var e=t.field,n=t.width,r=t.height,i=t.states;return e.map(function(t,o){return t.map(function(t,s){var c=a(t+1,i);return e[o][a(s-1,r)]===c||e[o][a(s+1,r)]===c||e[a(o-1,n)][s]===c||e[a(o+1,n)][s]===c?c:t})})}},X0ID:function(t,e,n){"use strict";var a;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s});var r={width:"width",height:"height",states:"states",status:"status"},i=((a={})[r.width]=500,a[r.height]=500,a[r.states]=16,a),o={play:"Play",pause:"Pause"},s=32},XVZL:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var a,r,i=n("GiK3"),o=n.n(i),s=n("KSGD"),c=(n.n(s),n("RjKN")),u=n("X0ID"),l=n("L/hj"),f=n("qaGz"),p=n("BLn6"),h=n.n(p),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var v=o.a.createElement("p",null,o.a.createElement("em",null,"Press Space or click field for play/pause")),y=(r=a=function(t){function e(){var n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=a=b(this,t.call.apply(t,[this].concat(i))),a.state={width:a.props.width,height:a.props.height,states:a.props.states,status:u.d.pause},a.getActionName=function(){return a.state.status===u.d.play?u.d.pause:u.d.play},a.field=null,a.randomizeField=function(){a.field=Object(l.a)(a.state)},a.processKey=function(t){t.keyCode===u.c&&(t.preventDefault(),a.handlePlay())},a.nextStep=function(){try{a.field=Object(l.b)(d({},a.state,{field:a.field}))}catch(t){a.field=Object(l.a)(a.state),a.setState({status:u.d.pause})}a.canvas.paint(a.field),a.state.status===u.d.play&&requestAnimationFrame(a.nextStep)},a.handleNew=function(){a.randomizeField(),a.canvas.paint(a.field)},a.handleNext=function(){a.field=Object(l.b)(d({},a.state,{field:a.field})),a.canvas.paint(a.field)},a.handlePlay=function(){switch(a.state.status){case u.d.play:a.setState({status:u.d.pause});break;case u.d.pause:a.setState({status:u.d.play},a.nextStep)}},a.changeHandler=function(t,e){var n;a.setState(((n={})[t]=e,n))},a.selectAll=function(t){return t.setSelectionRange(0,t.value.length)},b(a,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.randomizeField(),this.handlePlay(),document.addEventListener("keydown",this.processKey)},e.prototype.render=function(){var t=this;return o.a.createElement("div",null,o.a.createElement(c.a,{state:this.state,onChange:this.changeHandler,onFocus:this.selectAll},o.a.createElement(c.b,{id:u.b.width,label:"Field width",defaultNum:1}),o.a.createElement(c.b,{id:u.b.height,label:"Field height",defaultNum:1}),o.a.createElement(c.b,{id:u.b.states,label:"Number of states",defaultNum:1})),o.a.createElement("div",{onClick:this.handlePlay,onKeyDown:this.processKey,className:h.a.field,role:"presentation",title:this.getActionName()},o.a.createElement(f.a,{width:this.state.width,height:this.state.height,field:this.field,states:this.state.states,ref:function(e){t.canvas=e}})),v,o.a.createElement("button",{className:h.a.bigButton,onClick:this.handleNew},"New"),o.a.createElement("button",{className:h.a.bigButton,onClick:this.handlePlay},this.getActionName()),this.state.status===u.d.pause&&o.a.createElement("button",{className:h.a.bigButton,onClick:this.handleNext},"Next step"))},e}(i.PureComponent),a.defaultProps=d({},u.a),r)},cilB:function(t,e){},lVK7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("GiK3"),r=n.n(a),i=n("O27J"),o=(n.n(i),n("cilB")),s=(n.n(o),n("XVZL"));Object(i.render)(r.a.createElement(s.a,null),document.querySelector("#app"))},qaGz:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var a=n("GiK3"),r=n.n(a),i=n("KSGD"),o=(n.n(i),n("L/hj"));function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){var n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=a=s(this,t.call.apply(t,[this].concat(i))),a.drawPixel=function(t,e,n){var r=4*(t+e*a.props.width),i=Object(o.c)(n),s=i.r,c=i.g,u=i.b;a.canvasData.data[r]=s,a.canvasData.data[r+1]=c,a.canvasData.data[r+2]=u,a.canvasData.data[r+3]=255},a.paint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.field;a.canvasData=a.canvasContext.getImageData(0,0,a.props.width,a.props.height);for(var e=0;e<a.props.width;e+=1)for(var n=0;n<a.props.height;n+=1)a.drawPixel(e,n,t[e][n]/a.props.states);a.canvasContext.putImageData(a.canvasData,0,0)},a.refCanvas=function(t){a.canvasContext=t.getContext("2d")},s(a,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.paint()},e.prototype.componentDidUpdate=function(){this.paint()},e.prototype.render=function(){return r.a.createElement("canvas",{ref:this.refCanvas,width:this.props.width,height:this.props.height},"You are using an outdated browser without support of canvas elements.")},e}(r.a.PureComponent)}},[0]);
//# sourceMappingURL=app.30e9e13a.js.map